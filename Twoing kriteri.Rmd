---
title: "CART"
author: "IVM Twoing kriteri"
date: "2024-10-16"
output:
  word_document: default
  html_document: default
---
# CART AlgoritmasÄ±
Algoritma sÄ±nÄ±fÄ±n kategorik veya sayÄ±sal olduÄŸu durumlar iÃ§in kullanÄ±labilmektedir. SÄ±nÄ±fÄ±n kategorik olduÄŸu durumlarda (classification trees) genelde, Twoing Kriteri (Twoing Criteria) veya Gini AyÄ±rma DeÄŸeri (Gini Split Value) kullanÄ±lÄ±rken, sÄ±nÄ±fÄ±n
sayÄ±sal olduÄŸu durumlarda (regression trees) dallandÄ±rma kriteri iÃ§in Hata Kareler ToplamÄ± kullanÄ±lmaktadÄ±r.


Bu bÃ¶lÃ¼mde verilen ğ‘… uygulamalarÄ±nÄ± yapabilmek iÃ§in rpart, rpart.plot ve mlbench paketlerinin yÃ¼klenmesi ve ayrÄ±ca bu paketlerle birlikte HouseVotes84 verisinin Ã§aÄŸrÄ±lmasÄ± gerekmektedir. Gerekli komutlar aÅŸaÄŸÄ±da verilmiÅŸtir.

# Gerekli kÃ¼tÃ¼phanelerin YÃ¼klenmesi
Not: AÅŸaÄŸÄ±daki paketler Console iÃ§inde Ã§alÄ±ÅŸtÄ±rÄ±lmalÄ±dÄ±r. 
Toplu halde gÃ¶zÃ¼kmesi iÃ§in chunk iÃ§inde gÃ¶sterilmiÅŸtir.
install.packages("rpart")        
NOT:
Karar aÄŸaÃ§larÄ± iÃ§in doÄŸru paket adÄ±
install.packages("rpart.plot")  
NOT:
Karar aÄŸaÃ§larÄ±nÄ± Ã§izdirmek iÃ§in doÄŸru paket adÄ±
install.packages("mlbench")
install.packages("party")
install.packages("partykit")
NOT: Veri setleri ve benchmark iÅŸlemleri iÃ§in doÄŸru paket adÄ±
KÃ¼tÃ¼phanelerin Ã§aÄŸrÄ±lmasÄ± 
```{r}

library(rpart)
library(rpart.plot)
library(mlbench)
# veri seti
data("HouseVotes84")
head(HouseVotes84)
```
# Twoing kriteri (twoing criteria)
Twoing kriterine gÃ¶re dallandÄ±rmada her bir baÄŸÄ±msÄ±z deÄŸiÅŸkenin bÃ¼tÃ¼n mÃ¼mkÃ¼n ikili ayrÄ±ÅŸtÄ±rmalarÄ± dikkate alÄ±nÄ±r. Tablo 3.21â€™de verilen Ã¶rnek veri kÃ¼mesini inceleyelim


ğœ™ (ğ·ğ‘–) = 2ğ‘ƒğ¿ğ‘ƒğ‘…*ğ‘˜âˆ‘ğ‘—=1[|||ğ‘ƒ (ğ‘Œğ‘—/ğ¿) âˆ’ ğ‘ƒ (ğ‘Œğ‘—/ğ‘…)||| ]

Burada
ğœ™ (ğ·ğ‘–) âˆ¶ ğ‘–. bÃ¶lÃ¼nme iÃ§in twoing kriteri
ğ‘ƒğ¿ âˆ¶ ğ·ğ‘– bÃ¶lÃ¼nmesi iÃ§in bir gÃ¶zlemin aÄŸacÄ±n solunda kalma olasÄ±lÄ±ÄŸÄ±
ğ‘ƒğ‘… âˆ¶ ğ·ğ‘– bÃ¶lÃ¼nmesi iÃ§in bir gÃ¶zlemin aÄŸacÄ±n saÄŸÄ±nda kalma olasÄ±lÄ±ÄŸÄ±
ğ‘ƒ (ğ‘Œğ‘—/ğ¿) : AÄŸacÄ±n solundaki sÄ±nÄ±fin ğ‘—. dÃ¼zeyinin olasÄ±lÄ±ÄŸÄ±
ğ‘ƒ (ğ‘Œğ‘—/ğ‘…) âˆ¶ AÄŸacÄ±n saÄŸÄ±nda sÄ±nÄ±fin ğ‘—. dÃ¼zeyinin olasÄ±lÄ±ÄŸÄ±dÄ±r.

# Verilen golf verisi iÃ§in CART (Classification and Regression Trees) algoritmasÄ±nÄ± kullanarak bir karar aÄŸacÄ± oluÅŸturma ve Twoing kriterini hesaplama
## Veri setini yÃ¼kleme
```{r}
# Gerekli kÃ¼tÃ¼phaneleri yÃ¼kleyelim
library(party)
library(rpart)
library(dplyr)
library(party)
library(partykit)
# Golf verisi 
data("WeatherPlay")
# Veriyi inceleyelim
print(WeatherPlay)
```
### DeÄŸiÅŸkenleri sÄ±nÄ±flandÄ±rma
```{r}
WeatherPlay$temperature[WeatherPlay$temperature >= 80] <- "Y"  # 80Â°F ve Ã¼zeri
WeatherPlay$temperature[WeatherPlay$temperature < 80 & WeatherPlay$temperature >= 70] <- "N"  # 70-80Â°F arasÄ±
WeatherPlay$temperature[WeatherPlay$temperature < 70] <- "D"  # 70Â°F'ten dÃ¼ÅŸÃ¼k

```
```{r}
# Nem deÄŸerlerini kategorilere ayÄ±rma
WeatherPlay$humidity[WeatherPlay$humidity > 80] <- "NemY"  # 80%'den yÃ¼ksek nem
WeatherPlay$humidity[WeatherPlay$humidity <= 80] <- "NemN"  # 80% veya daha az nem
```

hava0yun veri setinde, artÄ±k temperature ve humidity deÄŸiÅŸkenleri kategorik
hale getirilmiÅŸtir.
SÄ±caklÄ±klar YÃ¼ksek (Y), Normal (N), DÃ¼ÅŸÃ¼k (D) olarak,
nem ise YÃ¼ksek (NemY) ve Normal (NemN) olarak sÄ±nÄ±flandÄ±rÄ±lmÄ±ÅŸtÄ±r.
Bu dÃ¶nÃ¼ÅŸÃ¼m, veriyi kategorik hale getirerek bazÄ± sÄ±nÄ±flandÄ±rma 
algoritmalarÄ±nda kullanmaya uygun hale getirildi.
#### FaktÃ¶r tipine Ã§evirme 
```{r}
#  temperature ve humidity deÄŸiÅŸkenlerini factor tipine Ã§evirme
WeatherPlay$temperature <- factor(WeatherPlay$temperature, levels = c("Y", "N", "D"))
WeatherPlay$humidity <- factor(WeatherPlay$humidity, levels = c("NemY", "NemN"))
str(WeatherPlay)
```

# Karar AÄŸacÄ±nÄ± GÃ¶rselleÅŸtirilmesi
```{r}
# rpart.plot kÃ¼tÃ¼phanesini yÃ¼kle
install.packages("rpart.plot")  # EÄŸer daha Ã¶nce yÃ¼klemediyseniz
library(rpart.plot)

# Modeli tekrar oluÅŸtur
cart_model <- rpart(play ~ outlook + temperature + humidity + windy, 
                     data = WeatherPlay, 
                     method = "class",
                     control = rpart.control(minsplit = 1, cp = 0.01))

# Modeli gÃ¶rselleÅŸtirme
rpart.plot(cart_model, type = 4, extra = 101)
```

```{r}
# Modeli tekrar oluÅŸtur
library(rpart.plot)
cart_model <- rpart(play ~ outlook + temperature + humidity + windy, 
                     data = WeatherPlay, 
                     method = "class",
                     control = rpart.control(minsplit = 1, cp = 0.01))

# Modeli DiagrammeR ile gÃ¶rselleÅŸtirme
grr <- rpart.plot(cart_model, type = 3, extra = 102)

```

### Yorum: 
Root node error: 5/14 = 0.35714
KÃ¶k dÃ¼ÄŸÃ¼m hatasÄ±, modelin en baÅŸta (bÃ¶lÃ¼nme olmadan Ã¶nce) yaptÄ±ÄŸÄ± hata oranÄ±nÄ± gÃ¶sterir. Bu durumda kÃ¶k dÃ¼ÄŸÃ¼mde hata oranÄ± 5/14, yani %35.7'dir. BaÅŸka bir deyiÅŸle, veri setinde 14 Ã¶rnek var ve bunlardan 5'i yanlÄ±ÅŸ sÄ±nÄ±flandÄ±rÄ±lÄ±yor olabilir.
# KarmaÅŸÄ±klÄ±k Matrisi
```{r}
cart_model <- rpart(play ~ outlook + temperature + humidity + windy, 
                    data = WeatherPlay, 
                    method = "class",
                    control = rpart.control(minsplit = 1, cp = 0.01))

# KarmaÅŸÄ±klÄ±k parametresini inceleyelim
printcp(cart_model)
```

KarmaÅŸÄ±klÄ±k Parametresi (CP) Tablosu
 CP nsplit rel error xerror    xstd
1 0.30      0       1.0    1.0 0.35857
2 0.20      2       0.4    2.0 0.33806
3 0.01      4       0.0    1.4 0.37417
Bu tablo, aÄŸacÄ±n bÃ¼yÃ¼klÃ¼ÄŸÃ¼nÃ¼ ve karmaÅŸÄ±klÄ±ÄŸÄ±nÄ± gÃ¶sterir:

CP (Complexity Parameter): AÄŸacÄ±n karmaÅŸÄ±klÄ±k parametresidir. KÃ¼Ã§Ã¼k CP deÄŸerleri daha bÃ¼yÃ¼k ve daha karmaÅŸÄ±k aÄŸaÃ§lar Ã¼retir. Burada, aÄŸacÄ±nÄ±zda Ã¼Ã§ farklÄ± karmaÅŸÄ±klÄ±k seviyesi bulunuyor.

nsplit: Bu sÃ¼tun, aÄŸacÄ±n kaÃ§ bÃ¶lÃ¼nme (split) yaptÄ±ÄŸÄ±dÄ±r. Ã–rneÄŸin, nsplit = 0 olan satÄ±r, aÄŸacÄ±n bÃ¶lÃ¼nme yapmadÄ±ÄŸÄ± hali (sadece kÃ¶k dÃ¼ÄŸÃ¼m) gÃ¶sterir. nsplit = 2 ise iki bÃ¶lÃ¼nme olduÄŸunu ifade eder.

rel error (Relative Error): GÃ¶receli hata oranÄ±dÄ±r. Bu, aÄŸacÄ±n hata oranÄ±nÄ± gÃ¶sterir ve her yeni bÃ¶lÃ¼nme ile azalÄ±r. KÃ¶k dÃ¼ÄŸÃ¼mde hata oranÄ± 1.0 (yani %100) olarak baÅŸlar, iki bÃ¶lÃ¼nmeden sonra bu oran 0.4â€™e dÃ¼ÅŸer, yani %40 hata yapmaktadÄ±r.

xerror (Cross-Validation Error): Ã‡apraz doÄŸrulama hatasÄ±dÄ±r. Veriyi test etmek iÃ§in Ã§apraz doÄŸrulama kullanÄ±ldÄ±ÄŸÄ±nda elde edilen hata oranÄ±dÄ±r. xerror = 1.0, Ã§apraz doÄŸrulamada modelin ilk durumda %100 hata yaptÄ±ÄŸÄ±nÄ±, ancak bÃ¶lÃ¼nmelerle azalabileceÄŸini gÃ¶sterir.

xstd (Standard Deviation of xerror): Ã‡apraz doÄŸrulama hatasÄ±nÄ±n standart sapmasÄ±dÄ±r. Modelin doÄŸruluÄŸunun ne kadar deÄŸiÅŸken olduÄŸunu gÃ¶sterir. Daha dÃ¼ÅŸÃ¼k bir standart sapma, modelin daha tutarlÄ± sonuÃ§lar verdiÄŸini gÃ¶sterir.

1. BaÅŸlangÄ±Ã§ta Hata OranÄ± YÃ¼ksek: Model ilk olarak tÃ¼m veriyi tek bir sÄ±nÄ±fa koyuyor ve %35.7 hata yapÄ±yor (5 Ã¶rneÄŸi yanlÄ±ÅŸ sÄ±nÄ±flÄ±yor).
2. BÃ¶lÃ¼nmeler Hata OranÄ±nÄ± DÃ¼ÅŸÃ¼rÃ¼yor: Model iki bÃ¶lÃ¼nme yapÄ±ldÄ±ÄŸÄ±nda hata oranÄ± %40'a kadar dÃ¼ÅŸÃ¼yor. Bu, karar aÄŸacÄ±nÄ±n daha iyi performans verdiÄŸini gÃ¶sterir.
3. Daha Fazla BÃ¶lÃ¼nme ile Hata AzalÄ±yor: DÃ¶rt bÃ¶lÃ¼nme yapÄ±ldÄ±ÄŸÄ±nda gÃ¶receli hata 0'a iniyor, yani eÄŸitim verisinde hata yapmÄ±yor. Ancak, Ã§apraz doÄŸrulamada hatanÄ±n hala var olduÄŸunu (xerror) gÃ¶zlemliyoruz.
SonuÃ§: Bu karar aÄŸacÄ± modeli, eÄŸitim verisinde iyi performans gÃ¶steriyor, ancak Ã§apraz doÄŸrulama sonuÃ§larÄ± modelin fazla uyum yapabileceÄŸini (overfitting) iÅŸaret edebilir. Daha dÃ¼ÅŸÃ¼k CP deÄŸerleri ile daha karmaÅŸÄ±k aÄŸaÃ§lar elde edebilirsiniz, ancak bu durumda test verisi Ã¼zerinde performansÄ± yakÄ±ndan izlemek Ã¶nemli olacaktÄ±r.


# Ã–rnek: Verilen golf verisi iÃ§in twoing kriterini kullanarak CART algoritmasÄ±na dayalÄ± karar aÄŸacÄ±nÄ± oluÅŸturalÄ±m.

Not: Hava Ã–zelliÄŸi (GÃ¼neÅŸli,Bulutlu, yaÄŸmurlu): AÄŸacÄ±n solu, Hava GÃ¼neÅŸli ise
AÄŸacÄ±n saÄŸÄ±, Hava Bulutlu, YaÄŸmurlu olur; AÄŸacÄ±n solu, Hava Bulutlu ise AÄŸacÄ±n saÄŸÄ±, Hava GÃ¼neÅŸli, YaÄŸmurlu olur, gibi.

ğ·1 durumunu dikkate alalÄ±m. AÄŸacÄ±n solu havanÄ±n gÃ¼neÅŸli (ğº) olduÄŸu duruma
karÅŸÄ±llk gelirken aÄŸacÄ±n saÄŸÄ± havanÄ±n bulutlu (B) veya yaÄŸmurlu (Y) olduÄŸu duruma
karÅŸÄ±llk gelmektedir. Bu durumda
ğ‘ƒğ¿ =5/14 havanÄ±n gÃ¼neÅŸli olma olasÄ±lÄ±ÄŸÄ±
ğ‘ƒğ‘… =9/14 havanÄ±n bulutlu veya yaÄŸmurlu olma olasÄ±lÄ±ÄŸÄ±
ğ‘ƒ (ğ‘Œ1/ğ¿) =3/5
aÄŸacÄ±n solu iÃ§in maÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ±
ğ‘ƒ (ğ‘Œ2/ğ¿) =2/5
aÄŸacÄ±n solu iÃ§in maÃ§in oynanma olasÄ±lÄ±ÄŸÄ±
Bu deÄŸerler formÃ¼lde yerine yazÄ±lÄ±rsa
```{r}
# Hava durumu verilerini iÃ§eren tabloyu oluÅŸtur
play_count <- table(WeatherPlay$outlook, WeatherPlay$play)
play_count
# ToplamlarÄ± hesapla
total_yes <- sum(play_count[, "yes"])
total_no <- sum(play_count[, "no"])

# HavanÄ±n gÃ¼neÅŸli olma olasÄ±lÄ±ÄŸÄ± (P_L)
sunny_yes <- play_count["sunny", "yes"]
sunny_no <- play_count["sunny", "no"]
P_L <- (sunny_yes + sunny_no) / (total_yes + total_no)
P_L

# HavanÄ±n bulutlu veya yaÄŸmurlu olma olasÄ±lÄ±ÄŸÄ± (P_R)
overcast_yes <- play_count["overcast", "yes"]
overcast_no <- play_count["overcast", "no"]
rainy_yes <- play_count["rainy", "yes"]
rainy_no <- play_count["rainy", "no"]
P_R <- (overcast_yes + overcast_no + rainy_yes + rainy_no) / (total_yes + total_no)
P_R
```
```{r}
# Hava durumu verilerini iÃ§eren tabloyu oluÅŸtur
play_count <- table(WeatherPlay$outlook, WeatherPlay$play)

# HavanÄ±n gÃ¼neÅŸli olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
sunny_yes <- play_count["sunny", "yes"]
sunny_no <- play_count["sunny", "no"]

# AÄŸacÄ±n solu iÃ§in olasÄ±lÄ±klarÄ± hesapla
total_sunny <- sunny_yes + sunny_no
P_Y1_L <- sunny_no / total_sunny  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ±
P_Y2_L <- sunny_yes / total_sunny  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ±

# HavanÄ±n bulutlu veya yaÄŸmurlu olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
overcast_yes <- play_count["overcast", "yes"]
overcast_no <- play_count["overcast", "no"]
rainy_yes <- play_count["rainy", "yes"]
rainy_no <- play_count["rainy", "no"]

# AÄŸacÄ±n saÄŸÄ±ndaki toplamlarÄ± hesapla
total_overcast_rainy <- overcast_yes + overcast_no + rainy_yes + rainy_no

# HavanÄ±n bulutlu veya yaÄŸmurlu olduÄŸu durumda maÃ§Ä±n oynanmama ve oynanma olasÄ±lÄ±klarÄ±
P_Y1_R <- (overcast_no + rainy_no) / total_overcast_rainy  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ±
P_Y2_R <- (overcast_yes + rainy_yes) / total_overcast_rainy  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ±

# HavanÄ±n gÃ¼neÅŸli ve bulutlu/yaÄŸmurlu olma olasÄ±lÄ±klarÄ±
P_L <- (sunny_yes + sunny_no) / sum(play_count)  # HavanÄ±n gÃ¼neÅŸli olma olasÄ±lÄ±ÄŸÄ±
P_R <- (overcast_yes + overcast_no + rainy_yes + rainy_no) / sum(play_count)  # HavanÄ±n bulutlu veya yaÄŸmurlu olma olasÄ±lÄ±ÄŸÄ±

# Twoing kriterini hesapla
phi_D1 <- 2 * P_L * P_R * (abs(P_Y1_L - P_Y1_R) + abs(P_Y2_L - P_Y2_R))
phi_D1
```
2. Durum (B = Sol, G + Y = SaÄŸ):
AÅŸaÄŸÄ±da bulutlu (B) hava iÃ§in aÄŸacÄ±n solu ve gÃ¼neÅŸli ve yaÄŸmurlu (G, Y) hava iÃ§in aÄŸacÄ±n saÄŸÄ± olasÄ±lÄ±klarÄ±nÄ± hesaplayacaÄŸÄ±z.
```{r}

# HavanÄ±n bulutlu (overcast) olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
overcast_yes <- play_count["overcast", "yes"]
overcast_no <- play_count["overcast", "no"]

# AÄŸacÄ±n solu iÃ§in olasÄ±lÄ±klarÄ± hesapla
total_overcast <- overcast_yes + overcast_no
P_Y1_L_B <- overcast_no / total_overcast  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ±
P_Y2_L_B <- overcast_yes / total_overcast  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ±

# HavanÄ±n gÃ¼neÅŸli ve yaÄŸmurlu olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
sunny_yes <- play_count["sunny", "yes"]
sunny_no <- play_count["sunny", "no"]
rainy_yes <- play_count["rainy", "yes"]
rainy_no <- play_count["rainy", "no"]

# AÄŸacÄ±n saÄŸÄ±ndaki toplamlarÄ± hesapla
total_sunny_rainy <- sunny_yes + sunny_no + rainy_yes + rainy_no
P_Y1_R_B <- (sunny_no + rainy_no) / total_sunny_rainy  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ±
P_Y2_R_B <- (sunny_yes + rainy_yes) / total_sunny_rainy  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ±

# P_L ve P_R deÄŸerlerini daha Ã¶nceki gibi
P_L_B <- 4 / 14  # HavanÄ±n bulutlu olma olasÄ±lÄ±ÄŸÄ±
P_R_B <- 10 / 14  # HavanÄ±n gÃ¼neÅŸli veya yaÄŸmurlu olma olasÄ±lÄ±ÄŸÄ±

# Twoing kriterini hesapla (Ï†(D2))
phi_D2 <- 2 * P_L_B * P_R_B * (abs(P_Y1_L_B - P_Y1_R_B) + abs(P_Y2_L_B - P_Y2_R_B))
phi_D2 
```
3. Durum (Y = Sol, G + B = SaÄŸ):
Bu kez yaÄŸmurlu (Y) hava iÃ§in aÄŸacÄ±n solu ve gÃ¼neÅŸli ve bulutlu (G, B) hava iÃ§in aÄŸacÄ±n saÄŸÄ± olasÄ±lÄ±klarÄ±nÄ± hesaplayacaÄŸÄ±z.
```{r}
# HavanÄ±n yaÄŸmurlu (rainy) olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
rainy_yes <- play_count["rainy", "yes"]
rainy_no <- play_count["rainy", "no"]

# AÄŸacÄ±n solu iÃ§in olasÄ±lÄ±klarÄ± hesapla
total_rainy <- rainy_yes + rainy_no
P_Y1_L_Y <- rainy_no / total_rainy  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ±
P_Y1_L_Y
P_Y2_L_Y <- rainy_yes / total_rainy  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ±
P_Y2_L_Y
# HavanÄ±n gÃ¼neÅŸli ve bulutlu olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
sunny_yes <- play_count["sunny", "yes"]
sunny_no <- play_count["sunny", "no"]
overcast_yes <- play_count["overcast", "yes"]
overcast_no <- play_count["overcast", "no"]

# AÄŸacÄ±n saÄŸÄ±ndaki toplamlarÄ± hesapla
total_sunny_overcast <- sunny_yes + sunny_no + overcast_yes + overcast_no
P_Y1_R_Y <- (sunny_no + overcast_no) / total_sunny_overcast  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ±
P_Y2_R_Y <- (sunny_yes + overcast_yes) / total_sunny_overcast  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ±
P_Y1_R_Y
P_Y2_R_Y 
# P_L ve P_R deÄŸerlerini daha Ã¶nceki gibi
P_L_Y <- 5 / 14  # HavanÄ±n yaÄŸmurlu olma olasÄ±lÄ±ÄŸÄ±
P_R_Y <- 9 / 14  # HavanÄ±n gÃ¼neÅŸli veya bulutlu olma olasÄ±lÄ±ÄŸÄ±

# Twoing kriterini hesapla (Ï†(D3))
phi_D3 <- 2 * P_L_Y * P_R_Y * (abs(P_Y1_L_Y - P_Y1_R_Y) + abs(P_Y2_L_Y - P_Y2_R_Y))
phi_D3


```
4. Durum (SÄ±caklÄ±k YÃ¼ksek = Sol, Normal ve DÃ¼ÅŸÃ¼k = SaÄŸ):
```{r}
# Ã–nce veriyi sÄ±caklÄ±k ve 'play' faktÃ¶rÃ¼ne gÃ¶re gruplandÄ±ralÄ±m
temp_play_count <- table(WeatherPlay$temperature, WeatherPlay$play)

# GruplandÄ±rÄ±lmÄ±ÅŸ tabloyu yazdÄ±rarak kontrol edelim
print(temp_play_count)
# SÄ±caklÄ±k YÃ¼ksek (Y) olan durumda "yes" ve "no" sayÄ±larÄ±
high_temp_yes <- temp_play_count["Y", "yes"]
high_temp_no <- temp_play_count["Y", "no"]

# Toplam sayÄ±lar
total_high_temp <- high_temp_yes + high_temp_no

# SÄ±caklÄ±k Normal (N) ve DÃ¼ÅŸÃ¼k (D) olan durumda "yes" ve "no" sayÄ±larÄ±
normal_temp_yes <- temp_play_count["N", "yes"]
normal_temp_no <- temp_play_count["N", "no"]

low_temp_yes <- temp_play_count["D", "yes"]
low_temp_no <- temp_play_count["D", "no"]

# Toplam sayÄ±lar
total_normal_low_temp <- normal_temp_yes + normal_temp_no + low_temp_yes + low_temp_no

# OlasÄ±lÄ±klarÄ± hesapla
P_Y1_L_high <- high_temp_no / total_high_temp  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (sol)
P_Y2_L_high <- high_temp_yes / total_high_temp  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (sol)

P_Y1_R_high <- (normal_temp_no + low_temp_no) / total_normal_low_temp  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (saÄŸ)
P_Y2_R_high <- (normal_temp_yes + low_temp_yes) / total_normal_low_temp  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (saÄŸ)

# P_L ve P_R
P_L_high <- total_high_temp / sum(temp_play_count)  # YÃ¼ksek sÄ±caklÄ±k olasÄ±lÄ±ÄŸÄ±
P_R_high <- total_normal_low_temp / sum(temp_play_count)  # Normal ve dÃ¼ÅŸÃ¼k sÄ±caklÄ±k olasÄ±lÄ±ÄŸÄ±

# Twoing kriteri (ğœ™(D4))
phi_D4 <- 2 * P_L_high * P_R_high * (abs(P_Y1_L_high - P_Y1_R_high) + abs(P_Y2_L_high - P_Y2_R_high))
phi_D4



```
5. Durum (SÄ±caklÄ±k Normal = Sol, YÃ¼ksek ve DÃ¼ÅŸÃ¼k = SaÄŸ):
```{r}
# SÄ±caklÄ±k Normal (N) olan durumda "yes" ve "no" sayÄ±larÄ±
normal_temp_yes <- temp_play_count["N", "yes"]
normal_temp_no <- temp_play_count["N", "no"]

# Toplam sayÄ±lar
total_normal_temp <- normal_temp_yes + normal_temp_no


# SÄ±caklÄ±k YÃ¼ksek (Y) ve DÃ¼ÅŸÃ¼k (D) olan durumda "yes" ve "no" sayÄ±larÄ±
high_temp_yes <- temp_play_count["Y", "yes"]
high_temp_no <- temp_play_count["Y", "no"]

low_temp_yes <- temp_play_count["D", "yes"]
low_temp_no <- temp_play_count["D", "no"]

# Toplam sayÄ±lar
total_high_low_temp <- high_temp_yes + high_temp_no + low_temp_yes + low_temp_no

# OlasÄ±lÄ±klarÄ± hesapla
P_Y1_L_normal <- normal_temp_no / total_normal_temp  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (sol)
P_Y2_L_normal <- normal_temp_yes / total_normal_temp  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (sol)

P_Y1_R_normal <- (high_temp_no + low_temp_no) / total_high_low_temp  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (saÄŸ)
P_Y2_R_normal <- (high_temp_yes + low_temp_yes) / total_high_low_temp  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (saÄŸ)

# P_L ve P_R
P_L_normal <- total_normal_temp / sum(temp_play_count)  # Normal sÄ±caklÄ±k olasÄ±lÄ±ÄŸÄ±
P_R_normal <- total_high_low_temp / sum(temp_play_count)  # YÃ¼ksek ve dÃ¼ÅŸÃ¼k sÄ±caklÄ±k olasÄ±lÄ±ÄŸÄ±

# Twoing kriteri (ğœ™(D5))
phi_D5 <- 2 * P_L_normal * P_R_normal * (abs(P_Y1_L_normal - P_Y1_R_normal) + abs(P_Y2_L_normal - P_Y2_R_normal))

phi_D5 


```
6. Durum (SÄ±caklÄ±k DÃ¼ÅŸÃ¼k = Sol, YÃ¼ksek ve Normal = SaÄŸ):
```{r}
# SÄ±caklÄ±k DÃ¼ÅŸÃ¼k (D) olan durumda "yes" ve "no" sayÄ±larÄ±
low_temp_yes <- temp_play_count["D", "yes"]
low_temp_no <- temp_play_count["D", "no"]

# YÃ¼ksek (Y) ve Normal (N) olan durumlar iÃ§in "yes" ve "no" sayÄ±larÄ±
high_temp_yes <- temp_play_count["Y", "yes"]
high_temp_no <- temp_play_count["Y", "no"]

normal_temp_yes <- temp_play_count["N", "yes"]
normal_temp_no <- temp_play_count["N", "no"]

# Toplam sayÄ±lar
total_low_temp <- low_temp_yes + low_temp_no
total_high_normal_temp <- high_temp_yes + high_temp_no + normal_temp_yes + normal_temp_no

# OlasÄ±lÄ±klarÄ± hesapla
P_Y1_L_low <- low_temp_no / total_low_temp  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (sol)
P_Y2_L_low <- low_temp_yes / total_low_temp  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (sol)

P_Y1_R_low <- (high_temp_no + normal_temp_no) / total_high_normal_temp  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (saÄŸ)
P_Y2_R_low <- (high_temp_yes + normal_temp_yes) / total_high_normal_temp  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (saÄŸ)

# P_L ve P_R
P_L_low <- total_low_temp / sum(temp_play_count)  # DÃ¼ÅŸÃ¼k sÄ±caklÄ±k olasÄ±lÄ±ÄŸÄ±
P_R_low <- total_high_normal_temp / sum(temp_play_count)  # YÃ¼ksek ve normal sÄ±caklÄ±k olasÄ±lÄ±ÄŸÄ±

# Twoing kriteri (ğœ™(D6))
phi_D6 <- 2 * P_L_low * P_R_low * (abs(P_Y1_L_low - P_Y1_R_low) + abs(P_Y2_L_low - P_Y2_R_low))

phi_D6

```



7. Durum (Nem YÃ¼ksek = Sol, Normal = SaÄŸ):
```{r}

# Nem durumuna gÃ¶re yes/no tablosu oluÅŸtur
humidity_play_count <- table(WeatherPlay$humidity, WeatherPlay$play)
print(humidity_play_count)

# Nem YÃ¼ksek (Y) olan durumda "yes" ve "no" sayÄ±larÄ±
high_humidity_yes <- humidity_play_count["NemY", "yes"]
high_humidity_no <- humidity_play_count["NemY", "no"]

# Normal (N) olan durumlar iÃ§in "yes" ve "no" sayÄ±larÄ±
normal_humidity_yes <- humidity_play_count["NemN", "yes"]
normal_humidity_no <- humidity_play_count["NemN", "no"]

# Toplam sayÄ±lar
total_high_humidity <- high_humidity_yes + high_humidity_no
total_normal_humidity <- normal_humidity_yes + normal_humidity_no

# OlasÄ±lÄ±klarÄ± hesapla
P_Y1_L_humidity <- high_humidity_no / total_high_humidity  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (sol)
P_Y2_L_humidity <- high_humidity_yes / total_high_humidity  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (sol)

P_Y1_R_humidity <- normal_humidity_no / total_normal_humidity  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (saÄŸ)
P_Y2_R_humidity <- normal_humidity_yes / total_normal_humidity  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (saÄŸ)

# P_L ve P_R
P_L_humidity <- total_high_humidity / sum(humidity_play_count)  # YÃ¼ksek nem olasÄ±lÄ±ÄŸÄ±
P_R_humidity <- total_normal_humidity / sum(humidity_play_count)  # Normal nem olasÄ±lÄ±ÄŸÄ±

# Twoing kriteri (ğœ™(D7))
phi_D7 <- 2 * P_L_humidity * P_R_humidity * (abs(P_Y1_L_humidity - P_Y1_R_humidity) + abs(P_Y2_L_humidity - P_Y2_R_humidity))

phi_D7

```
8. Durum (RÃ¼zgar Evet = Sol, HayÄ±r = SaÄŸ):
```{r}
# RÃ¼zgardurumuna gÃ¶re yes/no tablosu oluÅŸtur
windy_play_count <- table(WeatherPlay$windy, WeatherPlay$play)
print(windy_play_count)

# RÃ¼zgar Evet (True) olan durumda "yes" ve "no" sayÄ±larÄ±
windy_yes <- windy_play_count["true", "yes"]
windy_no <- windy_play_count["true", "no"]

# RÃ¼zgar HayÄ±r (False) olan durumda "yes" ve "no" sayÄ±larÄ±
no_windy_yes <- windy_play_count["false", "yes"]
no_windy_no <- windy_play_count["false", "no"]

# Toplam sayÄ±lar
total_windy_yes <- windy_yes + windy_no
total_windy_no <- no_windy_yes + no_windy_no

# OlasÄ±lÄ±klarÄ± hesapla
P_Y1_L_windy <- windy_no / total_windy_yes  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (sol)
P_Y2_L_windy <- windy_yes / total_windy_yes  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (sol)

P_Y1_R_windy <- no_windy_no / total_windy_no  # MaÃ§Ä±n oynanmama olasÄ±lÄ±ÄŸÄ± (saÄŸ)
P_Y2_R_windy <- no_windy_yes / total_windy_no  # MaÃ§Ä±n oynanma olasÄ±lÄ±ÄŸÄ± (saÄŸ)

# P_L ve P_R
P_L_windy <- total_windy_yes / sum(windy_play_count)  # RÃ¼zgar evet olasÄ±lÄ±ÄŸÄ±
P_R_windy <- total_windy_no / sum(windy_play_count)  # RÃ¼zgar hayÄ±r olasÄ±lÄ±ÄŸÄ±

# Twoing kriteri (ğœ™(D8))
phi_D8 <- 2 * P_L_windy * P_R_windy * (abs(P_Y1_L_windy - P_Y1_R_windy) + abs(P_Y2_L_windy - P_Y2_R_windy))
phi_D8
```
```{r}
# Phi deÄŸerleri
phi_values <- c(
  phi_D1,  # D1 iÃ§in hesaplanan deÄŸer
  phi_D2,  # D2 iÃ§in hesaplanan deÄŸer
  phi_D3,  # D3 iÃ§in hesaplanan deÄŸer
  phi_D4,  # D4 iÃ§in hesaplanan deÄŸer
  phi_D5,  # D5 iÃ§in hesaplanan deÄŸer
  phi_D6,  # D6 iÃ§in hesaplanan deÄŸer
  phi_D7,  # D7 iÃ§in hesaplanan deÄŸer
  phi_D8   # D8 iÃ§in hesaplanan deÄŸer
)

# Tablo oluÅŸturma
phi_table <- data.frame(
  Condition = paste0("D", 1:8),
  Phi_Value = phi_values
)

# Tabloyu yazdÄ±r
print(phi_table)
```
# DallanmalarÄ±n SÄ±ralamasÄ±:
AyrÄ±ÅŸma gÃ¼cÃ¼ en yÃ¼ksek olan dallanmalardan baÅŸlanarak aÄŸaÃ§ yapÄ±sÄ± oluÅŸturulur: D7	0.42857143


D7: Nem (YÃ¼ksek)
Nemin yÃ¼ksek olduÄŸu durum iÃ§in veri tablosu aÅŸaÄŸÄ±daki gibi olur. 7 gÃ¶zlemlik
bu veri alt kÃ¼mesi iÃ§in (nem=yÃ¼ksek) mÃ¼mkÃ¼n ikili bÃ¶lÃ¼nmeler aÅŸaÄŸÄ±daki gibi
verilebilir.
```{r}
library(dplyr)
ny <- WeatherPlay %>% filter(humidity == "NemY")
ny
```
1. Hava Durumuna GÃ¶re (GÃ¼neÅŸli, Bulutlu, YaÄŸmurlu) 3 durum var 
2. SÄ±caklÄ±k Durumuna GÃ¶re (YÃ¼ksek,Normal) 1 durum var 
3. RÃ¼zgar Durumuna GÃ¶re (true, false) 1 durum var. 
toplam 5 durum hesaplanacak.

Hava Durumu
Hava Durumu: Nemli (YÃ¼ksek)

1. Sol Dal (AÄŸacÄ±n Solu): HavanÄ±n gÃ¼neÅŸli olduÄŸu durum (G)
2. SaÄŸ Dal (AÄŸacÄ±n SaÄŸÄ±): HavanÄ±n bulutlu veya yaÄŸmurlu olduÄŸu durum (B, Y)

       AÄŸacÄ±n solu   AÄŸacÄ±n saÄŸÄ±
Hava       G            B, Y 
```{r}
# Hava Durumuna GÃ¶re "play" sayÄ±sÄ±nÄ± hesapla
play_count <- table(ny$outlook, ny$play)

# HavanÄ±n Bulutlu ve YaÄŸmurlu olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
overcast_yes <- play_count["overcast", "yes"]
overcast_no <- play_count["overcast", "no"]
rainy_yes <- play_count["rainy", "yes"]
rainy_no <- play_count["rainy", "no"]

# Toplam sayÄ±lar
total_overcast_rainy <- overcast_yes + overcast_no + rainy_yes + rainy_no

# AÄŸacÄ±n Solu (GÃ¼neÅŸli)
sunny_yes <- play_count["sunny", "yes"]
sunny_no <- play_count["sunny", "no"]
total_sunny <- sunny_yes + sunny_no

# AÄŸacÄ±n Solu iÃ§in olasÄ±lÄ±klar
P_Y1_L <- sunny_no / total_sunny  # Oynanmama olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n Solu)
P_Y2_L <- sunny_yes / total_sunny  # Oynanma olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n Solu)

# AÄŸacÄ±n SaÄŸÄ± (Bulutlu veya YaÄŸmurlu)
P_Y1_R <- (overcast_no + rainy_no) / total_overcast_rainy  # Oynanmama olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n SaÄŸÄ±)
P_Y2_R <- (overcast_yes + rainy_yes) / total_overcast_rainy  # Oynanma olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n SaÄŸÄ±)

# Hava durumlarÄ± iÃ§in olasÄ±lÄ±klarÄ±
P_L <- total_sunny / (total_overcast_rainy + total_sunny)  # GÃ¼neÅŸli olasÄ±lÄ±ÄŸÄ±
P_R <- total_overcast_rainy / (total_overcast_rainy + total_sunny)  # Bulutlu/YaÄŸmurlu olasÄ±lÄ±ÄŸÄ±

# Twoing kriterini hesapla
phi_D <- 2 * P_L * P_R * (abs(P_Y1_L - P_Y1_R) + abs(P_Y2_L - P_Y2_R))
phi_D  # SonuÃ§  0.7346939
```
      AÄŸacÄ±n solu     AÄŸacÄ±n saÄŸÄ±
 Hava      B              G, Y
```{r}
library(dplyr)

# Nemin yÃ¼ksek olduÄŸu durumu filtrele
ny <- WeatherPlay %>% filter(humidity == "NemY")

# Hava durumu ve oyun sonuÃ§larÄ± iÃ§in kontroller
play_count <- table(ny$outlook, ny$play)

# HavanÄ±n Bulutlu, GÃ¼neÅŸli ve YaÄŸmurlu olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
overcast_yes <- play_count["overcast", "yes"]
overcast_no <- play_count["overcast", "no"]
sunny_yes <- play_count["sunny", "yes"]
sunny_no <- play_count["sunny", "no"]
rainy_yes <- play_count["rainy", "yes"]
rainy_no <- play_count["rainy", "no"]

# Toplam sayÄ±lar
total_overcast <- overcast_yes + overcast_no
total_sunny_rainy <- sunny_yes + sunny_no + rainy_yes + rainy_no
total_cases <- total_overcast + total_sunny_rainy  # Toplam durum sayÄ±sÄ±

# AÄŸacÄ±n Solu (YaÄŸmurlu)
P_Y1_L <- overcast_no / total_overcast  # Oynanmama olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n Solu)
P_Y2_L <- overcast_yes / total_overcast  # Oynanma olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n Solu)

# AÄŸacÄ±n SaÄŸÄ± (GÃ¼neÅŸli veya Bulutlu)
P_Y1_R <- (sunny_no +  rainy_no) / total_sunny_rainy  # Oynanmama olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n SaÄŸÄ±)
P_Y2_R <- (sunny_yes + rainy_yes) / total_sunny_rainy  # Oynanma olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n SaÄŸÄ±)

# Hava durumlarÄ± iÃ§in olasÄ±lÄ±klarÄ±
P_L <- total_overcast / total_cases  # YaÄŸmurlu olasÄ±lÄ±ÄŸÄ±
P_R <- total_sunny_rainy / total_cases  # GÃ¼neÅŸli veya Bulutlu olasÄ±lÄ±ÄŸÄ±

# Twoing kriterini hesapla
phi_D <- 2 * P_L * P_R * (abs(P_Y1_L - P_Y1_R) + abs(P_Y2_L - P_Y2_R))
phi_D  # SonuÃ§  0.6530612
```
     Nemin yÃ¼ksek olduÄŸu durumda 
     AÄŸacÄ±n solu AÄŸacÄ±n saÄŸÄ±
Hava    Y              G, B       
```{r}
library(dplyr)

# Nemin yÃ¼ksek olduÄŸu durumu filtrele
ny <- WeatherPlay %>% filter(humidity == "NemY")

# Hava durumu ve oyun sonuÃ§larÄ± iÃ§in kontroller
play_count <- table(ny$outlook, ny$play)

# HavanÄ±n Bulutlu, GÃ¼neÅŸli ve YaÄŸmurlu olduÄŸu durumda "yes" ve "no" sayÄ±larÄ±
overcast_yes <- play_count["overcast", "yes"]
overcast_no <- play_count["overcast", "no"]
sunny_yes <- play_count["sunny", "yes"]
sunny_no <- play_count["sunny", "no"]
rainy_yes <- play_count["rainy", "yes"]
rainy_no <- play_count["rainy", "no"]

# Toplam sayÄ±lar
total_rainy <- rainy_yes + rainy_no
total_overcast_sunny <- sunny_yes + sunny_no + overcast_yes + overcast_no
total_cases <- total_rainy + total_overcast_sunny  # Toplam durum sayÄ±sÄ±

# AÄŸacÄ±n Solu (YaÄŸmurlu)
P_Y1_L <- rainy_no / total_rainy  # Oynanmama olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n Solu)
P_Y2_L <- rainy_yes / total_rainy  # Oynanma olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n Solu)

# AÄŸacÄ±n SaÄŸÄ± (GÃ¼neÅŸli veya Bulutlu)
P_Y1_R <- (sunny_no + overcast_no) / total_overcast_sunny  # Oynanmama olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n SaÄŸÄ±)
P_Y2_R <- (sunny_yes + overcast_yes) / total_overcast_sunny  # Oynanma olasÄ±lÄ±ÄŸÄ± (AÄŸacÄ±n SaÄŸÄ±)

# Hava durumlarÄ± iÃ§in olasÄ±lÄ±klarÄ±
P_L <- total_rainy / total_cases  # YaÄŸmurlu olasÄ±lÄ±ÄŸÄ±
P_R <- total_overcast_sunny / total_cases  # GÃ¼neÅŸli veya Bulutlu olasÄ±lÄ±ÄŸÄ±

# Twoing kriterini hesapla
phi_D <- 2 * P_L * P_R * (abs(P_Y1_L - P_Y1_R) + abs(P_Y2_L - P_Y2_R))
phi_D  # SonuÃ§  0.08163265

```
```{r}
library(dplyr)

# Nemin yÃ¼ksek olduÄŸu durumu filtrele
ny <- WeatherPlay %>% filter(humidity == "NemY")

# Hava durumu ve oyun sonuÃ§larÄ± iÃ§in kontroller
play_count <- table(ny$outlook, ny$play)

# SÄ±caklÄ±k durumlarÄ± iÃ§in kontroller
temp_count <- table(ny$temperature, ny$play)

# SÄ±caklÄ±k iÃ§in "yÃ¼ksek" ve "normal" durumlarÄ±
high_yes <- temp_count["Y", "yes"]
high_no <- temp_count["Y", "no"]
normal_yes <- temp_count["N", "yes"]
normal_no <- temp_count["N", "no"]

# Toplam sayÄ±lar
total_high <- high_yes + high_no
total_normal <- normal_yes + normal_no
total_temperature <- total_high + total_normal

# SÄ±caklÄ±k iÃ§in olasÄ±lÄ±klar
P_Y1_L_temp <- high_no / total_high  # Oynanmama olasÄ±lÄ±ÄŸÄ± (YÃ¼ksek sÄ±caklÄ±k)
P_Y2_L_temp <- high_yes / total_high  # Oynanma olasÄ±lÄ±ÄŸÄ± (YÃ¼ksek sÄ±caklÄ±k)
P_Y1_R_temp <- normal_no / total_normal  # Oynanmama olasÄ±lÄ±ÄŸÄ± (Normal sÄ±caklÄ±k)
P_Y2_R_temp <- normal_yes / total_normal  # Oynanma olasÄ±lÄ±ÄŸÄ± (Normal sÄ±caklÄ±k)

# Hava durumu iÃ§in olasÄ±lÄ±klarÄ±
P_L_temp <- total_high / total_temperature  # YÃ¼ksek sÄ±caklÄ±k olasÄ±lÄ±ÄŸÄ±
P_R_temp <- total_normal / total_temperature  # Normal sÄ±caklÄ±k olasÄ±lÄ±ÄŸÄ±

# Twoing kriterini hesapla
phi_D_temp <- 2 * P_L_temp * P_R_temp * (abs(P_Y1_L_temp - P_Y1_R_temp) + abs(P_Y2_L_temp - P_Y2_R_temp))
phi_D_temp  # SonuÃ§  0.1632653
```
       AÄŸacÄ±n solu AÄŸacÄ±n saÄŸÄ±
RÃ¼zgar    E               H 
```{r}
library(dplyr)

# Nemin yÃ¼ksek olduÄŸu durumu filtrele
ny <- WeatherPlay %>% filter(humidity == "NemY")

# Hava durumu ve oyun sonuÃ§larÄ± iÃ§in kontroller
play_count <- table(ny$outlook, ny$play)

# RÃ¼zgar durumu iÃ§in kontroller
wind_count <- table(ny$wind, ny$play)

# RÃ¼zgar iÃ§in "Evet" ve "HayÄ±r" durumlarÄ±
wind_yes <- wind_count["true", "yes"]
wind_no <- wind_count["true", "no"]
not_wind_yes <- wind_count["false", "yes"]
not_wind_no <- wind_count["false", "no"]

total_wind <- wind_yes + wind_no
total_not_wind <- not_wind_yes + not_wind_no
total_cases <- sum(play_count)

# RÃ¼zgar "Evet" iÃ§in olasÄ±lÄ±klar
P_Y1_L_wind <- wind_no / total_wind  # Oynanmama olasÄ±lÄ±ÄŸÄ± (RÃ¼zgar "Evet")
P_Y2_L_wind <- wind_yes / total_wind  # Oynanma olasÄ±lÄ±ÄŸÄ± (RÃ¼zgar "Evet")

# RÃ¼zgar "HayÄ±r" durumu iÃ§in olasÄ±lÄ±klar
P_Y1_R_wind <- not_wind_no / total_not_wind  # Oynanmama olasÄ±lÄ±ÄŸÄ± (RÃ¼zgar "HayÄ±r")
P_Y2_R_wind <- not_wind_yes / total_not_wind  # Oynanma olasÄ±lÄ±ÄŸÄ± (RÃ¼zgar "HayÄ±r")

# RÃ¼zgar olasÄ±lÄ±klarÄ±
P_L_wind <- total_wind / total_cases  # RÃ¼zgar "Evet" olasÄ±lÄ±ÄŸÄ±
P_R_wind <- total_not_wind / total_cases  # RÃ¼zgar "HayÄ±r" olasÄ±lÄ±ÄŸÄ±

# Twoing kriterini hesapla
phi_D_wind <- 2 * P_L_wind * P_R_wind * (abs(P_Y1_L_wind - P_Y1_R_wind) + abs(P_Y2_L_wind - P_Y2_R_wind))
phi_D_wind  # SonuÃ§ 0.1632653
```

install.packages(â€œC50â€) 
```{r}
library(datasets) 
library(caTools)
library(party)
library(dplyr)
library(magrittr)
library(RWeka) 
# Veriyi eÄŸitim ve test olarak bÃ¶lelim
set.seed(1234)  # Rastgelelik iÃ§in sabit tohum
sample_data = sample.split(WeatherPlay, SplitRatio = 0.7)
train_data <- subset(WeatherPlay, sample_data == TRUE)
test_data <- subset(WeatherPlay, sample_data == FALSE)
```
install.packages("rpart")
```{r}
# rpart paketini yÃ¼kle ve Karar AÄŸacÄ± Modelinin OluÅŸturulmasÄ±

library(rpart)

# Gini indeksi kullanarak karar aÄŸacÄ± modeli oluÅŸtur
gini <- rpart(play ~ ., data = WeatherPlay, 
               method = "class", minsplit = 4, parms = list(split = "gini"))

# Modelin Ã¶zetini gÃ¶ster
summary(gini)

# Modeli gÃ¶rÃ¼ntÃ¼le
print(gini)
```

```{r}
# Tahmin yapmak iÃ§in Gini modeli kullan
tahmin_Gini <- predict(gini, test_data, type = "class")

# Tahmin sonuÃ§larÄ±nÄ± yazdÄ±r
print(tahmin_Gini)
```
```{r}
# caret kÃ¼tÃ¼phanesini yÃ¼kle
library(caret)

# KarÄ±ÅŸÄ±klÄ±k matrisini elde et
cm_gini <- confusionMatrix(data = tahmin_Gini, reference = test_data$play) # 'play' hedef deÄŸiÅŸkeni
print(cm_gini)
```
install.packages("C50")
# Outlook deÄŸiÅŸkeni iÃ§in sol (sunny, rainy) saÄŸ (overcast) Dallanma iÃ§in kÃ¼Ã§Ã¼k bir Ã¶rnek
```{r}
# C50 paketini yÃ¼kle
library(C50)

# Modeli oluÅŸtur
C50_model <- C5.0(play ~ ., data = train_data)

# Modelin Ã¶zetini al
summary(C50_model)

# Modeli gÃ¶rselleÅŸtir
plot(C50_model)

# Tahmin yap
tahmin_c50 <- predict(C50_model, test_data, type = "class")
tahmin_c50
```
# Karar AÄŸacÄ± TÃ¼m veri iÃ§in 
```{r}
C50 <-C5.0(play ~., data=WeatherPlay) 
summary(C50)
plot(C50)
```
# Model Ã–zeti
Model Ã‡aÄŸrÄ±sÄ±: C5.0.formula(formula = play ~ ., data = WeatherPlay) ifadesi ile play deÄŸiÅŸkeninin diÄŸer deÄŸiÅŸkenlerle olan iliÅŸkisi modellemiÅŸtir.
Okunan Veriler: Toplam 14 gÃ¶zlem ve 5 Ã¶zellik (deÄŸiÅŸken) kullanÄ±lmÄ±ÅŸtÄ±r.
#### Karar AÄŸacÄ±
Karar aÄŸacÄ±nÄ±n yapÄ±sÄ±:

- outlook = overcast: Bu durumda tahmin yes (oyun oynama) olarak belirlenmiÅŸtir ve bu sÄ±nÄ±fta 4 gÃ¶zlem bulunmaktadÄ±r.
outlook = sunny:
EÄŸer humidity = NemY ise tahmin no (oyun oynamama) olarak belirlenmiÅŸtir ve bu sÄ±nÄ±fta 3 gÃ¶zlem vardÄ±r.
EÄŸer humidity = NemN ise tahmin yes olarak belirlenmiÅŸtir ve bu sÄ±nÄ±fta 2 gÃ¶zlem vardÄ±r.
outlook = rainy:
EÄŸer windy = false ise tahmin yes olarak belirlenmiÅŸtir ve bu sÄ±nÄ±fta 3 gÃ¶zlem bulunmaktadÄ±r.
EÄŸer windy = true ise tahmin no olarak belirlenmiÅŸtir ve bu sÄ±nÄ±fta 2 gÃ¶zlem vardÄ±r.
#### EÄŸitim Verileri Ãœzerinde DeÄŸerlendirme
Karar AÄŸacÄ±: Model, eÄŸitim verileri Ã¼zerinde deÄŸerlendirildiÄŸinde, toplamda 14 gÃ¶zlemden 0 hata ile sonuÃ§lanmÄ±ÅŸtÄ±r. Bu, %0 hata oranÄ± demektir.
SÄ±nÄ±flandÄ±rma SonuÃ§larÄ±:
9 gÃ¶zlem yes (oyun oynama) olarak sÄ±nÄ±flandÄ±rÄ±lmÄ±ÅŸtÄ±r.
5 gÃ¶zlem no (oyun oynamama) olarak sÄ±nÄ±flandÄ±rÄ±lmÄ±ÅŸtÄ±r.
#### Ã–zellik KullanÄ±mÄ±
Ã–zellik KullanÄ±mÄ±:
outlook Ã¶zelliÄŸi %100 oranÄ±nda kullanÄ±lmÄ±ÅŸtÄ±r, bu da modelin karar vermede en etkili deÄŸiÅŸken olduÄŸunu gÃ¶sterir.
humidity ve windy Ã¶zellikleri ise sÄ±rasÄ±yla %35.71 oranÄ±nda kullanÄ±lmÄ±ÅŸtÄ±r.
#### SÃ¼re
Modelin eÄŸitimi sadece 0.0 saniye sÃ¼rmÃ¼ÅŸtÃ¼r, bu da iÅŸlemin hÄ±zlÄ± bir ÅŸekilde tamamlandÄ±ÄŸÄ±nÄ± gÃ¶sterir.
#### Genel DeÄŸerlendirme
C5.0 algoritmasÄ± ile oluÅŸturulan bu karar aÄŸacÄ±, kÃ¼Ã§Ã¼k bir veri seti Ã¼zerinde yÃ¼ksek doÄŸruluk oranÄ± ile sÄ±nÄ±flandÄ±rma yapmaktadÄ±r. Ã–zellikle outlook deÄŸiÅŸkeninin karar vermede Ã¶nemli bir rol oynadÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir.


